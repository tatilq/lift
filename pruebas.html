<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<title>Web Storage API ejemplo aprenderaprogramar.com</title>
<script type="text/javascript">
function addProducto(){
var producto=document.getElementById('producto').value;
var precio=document.getElementById('precio').value;
sessionStorage.setItem(producto,precio); //ó sessionStorage[producto]=precio
mostrarDatos(producto);
}
 
function mostrarDatos(){
var datosDisponibles=document.getElementById('datosDisponibles');
datosDisponibles.innerHTML='';
for(var i=0;i<sessionStorage.length;i++){
                var producto=sessionStorage.key(i);
                var precio=sessionStorage.getItem(producto);
                datosDisponibles.innerHTML += '<div>'+producto+' - '+precio+'</div>';
                }
}
 
function limpiarVista() {
var datosDisponibles=document.getElementById('datosDisponibles');
datosDisponibles.innerHTML='Limpiada vista. Los datos permanecen.';
}
 
function borrarTodo() {sessionStorage.clear(); mostrarDatos(); }
 
</script>
</head>
<body>
<form name="formulario">
<p>Nombre del producto:<br><input type="text" name="producto" id="producto"></p>
<p>Precio:<br><input type="text" name="precio" id="precio"></p>
<p><input type="button" onclick="addProducto()" name="guardar" id="guardar" value="guardar"></p>
<p><input type="button" onclick="limpiarVista()" name="limpiar" id="limpiar" value="Limpiar Vista"></p>
<p><input type="button" onclick="borrarTodo()" name="borrar" id="borrar" value="Borrar todo"></p>
</form>
<br/>
<div id="datosDisponibles">No hay información almacenada</div>
</body>
